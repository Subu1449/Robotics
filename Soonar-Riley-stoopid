#pragma config(Sensor, S1,     touchSensor,    sensorTouch)
#pragma config(Sensor, S2,     lightSensor,    sensorLightActive)
#pragma config(Sensor, S3,     sonarSensor,    sensorSONAR)
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

int lightValue;
int darkValue;
int sumValue;
int thresholdValue;

task main()
{



	{
		while(SensorValue(touchSensor) == 0)
		{
		}
		lightValue = SensorValue(lightSensor);

		wait1Msec(2000);

		while(SensorValue(touchSensor) == 0)
		{
		}
		darkValue = SensorValue(lightSensor);

		sumValue = lightValue + darkValue;

		thresholdValue = sumValue/2;

	}

	while(true)
	{

		if(SensorValue(sonarSensor) < 35)
		{
			motor[motorC] = 0;
			motor[motorB] = 0;
		}
		else
		{

			if(SensorValue(lightSensor) < thresholdValue)
			{
				motor[motorC] = -50;
				motor[motorB] = -50;
				wait1Msec(500);
				motor[motorC] = 20;
				motor[motorB] = -20;
				wait1Msec(860);

			}



			else
			{
				motor[motorC] = 50;
				motor[motorB] = 50;
			}

		}
	}
}
